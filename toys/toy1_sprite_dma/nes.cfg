# Minimal NES linker config for toy0_toolchain
# Maps segments to NROM memory layout (16KB PRG + 8KB CHR)

MEMORY {
    # iNES header (16 bytes)
    HEADER: start=$0000, size=$0010, fill=yes, fillval=$00, file=%O;

    # PRG-ROM: 16KB starting at $8000 (NROM-128 layout)
    # Reserve last 6 bytes for vectors at $FFFA-$FFFF
    PRG:    start=$8000, size=$3FFA, fill=yes, fillval=$FF, file=%O;

    # Hardware vectors at $FFFA-$FFFF (end of PRG-ROM)
    ROMV:   start=$FFFA, size=$0006, fill=yes, file=%O;

    # CHR-ROM: 8KB (graphics data)
    CHR:    start=$0000, size=$2000, fill=yes, fillval=$00, file=%O;
}

SEGMENTS {
    HEADER:  load=HEADER, type=ro;
    CODE:    load=PRG,    type=ro;
    VECTORS: load=ROMV,   type=ro;
    CHARS:   load=CHR,    type=ro;
}
